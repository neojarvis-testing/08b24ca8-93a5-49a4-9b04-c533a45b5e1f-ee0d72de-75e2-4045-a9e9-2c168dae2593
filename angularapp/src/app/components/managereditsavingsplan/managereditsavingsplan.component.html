<div class="container">
  <h2>Update Plan</h2>
  <form (ngSubmit)="onSubmit()" #savingsPlanForm="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" class="form-control" [(ngModel)]="savingsPlan.name" name="name" required #name="ngModel">
      <div *ngIf="(formSubmitted || name.touched) && !savingsPlan.name" class="text-danger">
        Name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="goalAmount">Goal Amount</label>
      <input type="number" id="goalAmount" class="form-control" [(ngModel)]="savingsPlan.goalAmount" name="goalAmount" required min="1000" max="10000000" #goalAmount="ngModel">
      <div *ngIf="(formSubmitted || goalAmount.touched) && (!savingsPlan.goalAmount || savingsPlan.goalAmount < 1000 || savingsPlan.goalAmount > 10000000)" class="text-danger">
        Goal Amount is required and must be between 1000 and 10,000,000.
      </div>
    </div>
    <div class="form-group">
      <label for="timeFrame">Time Frame (years)</label>
      <input type="number" id="timeFrame" class="form-control" [(ngModel)]="savingsPlan.timeFrame" name="timeFrame" required min="1" max="50" #timeFrame="ngModel">
      <div *ngIf="(formSubmitted || timeFrame.touched) && (!savingsPlan.timeFrame || savingsPlan.timeFrame < 1 || savingsPlan.timeFrame > 50)" class="text-danger">
        Time Frame is required and must be between 1 and 50 years.
      </div>
    </div>
    <div class="form-group">
      <label for="riskLevel">Risk Level</label>
      <select id="riskLevel" class="form-control" [(ngModel)]="savingsPlan.riskLevel" name="riskLevel" required #riskLevel="ngModel">
        <option value="Low">Low</option>
        <option value="Medium">Medium</option>
        <option value="High">High</option>
      </select>
      <div *ngIf="(formSubmitted || riskLevel.touched) && !savingsPlan.riskLevel" class="text-danger">
        Risk Level is required.
      </div>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" class="form-control" [(ngModel)]="savingsPlan.description" name="description" required #description="ngModel"></textarea>
      <div *ngIf="(formSubmitted || description.touched) && !savingsPlan.description" class="text-danger">
        Description is required.
      </div>
    </div>
    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" class="form-control" [(ngModel)]="savingsPlan.status" name="status" required #status="ngModel">
        <option value="Active">Active</option>
        <option value="Inactive">Inactive</option>
      </select>
      <div *ngIf="(formSubmitted || status.touched) && !savingsPlan.status" class="text-danger">
        Status is required.
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Update</button>
  </form>
  <div *ngIf="formSubmitted && savingsPlanForm.form.valid" class="alert alert-success mt-3">
    Savings plan successfully updated!
  </div>
</div>

